{"version":3,"sources":["componenets/Controls/Controls.module.css","componenets/App.module.css","componenets/Publication/Publication.module.css","componenets/Counter/Counter.module.css","componenets/Reader/Reader.module.css","componenets/Publication/Publication.js","componenets/Counter/Counter.js","componenets/Controls/Controls.js","componenets/Reader/Reader.js","componenets/App.js","index.js"],"names":["module","exports","Publication","publication","className","styles","title","text","Counter","index","total","counter","Controls","handleClick","controls","button","type","disabled","onClick","e","Reader","props","handleControlsClick","target","step","setState","prevState","state","pubs","items","item","qs","parse","this","location","search","Math","max","min","length","console","log","prevProps","history","push","pathname","pub","reader","Component","defaultProps","App","containerApp","path","component","publications","render","to","id","ReactDOM","document","getElementById"],"mappings":"kHACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,2B,mBCAjED,EAAOC,QAAU,CAAC,aAAe,4B,mBCAjCD,EAAOC,QAAU,CAAC,YAAc,mC,mBCAhCD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,OAAS,yB,4wgBCiBZC,EAdK,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAH,OAClB,6BAASC,UAAWC,IAAOF,aACzB,4BAAKA,EAAYG,OACjB,2BAAIH,EAAYI,Q,iBCQLC,EAXC,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAV,OACd,uBAAGN,UAAWC,IAAOM,SAClBF,EADH,MACaC,I,iBCkBAE,EArBE,SAAC,GAAD,IAAGH,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAOG,EAAjB,EAAiBA,YAAjB,OACf,6BAAST,UAAWC,IAAOS,UACzB,4BACEV,UAAWC,IAAOU,OAClBC,KAAK,SACLC,SAAoB,IAAVR,EACVS,QAAS,SAAAC,GAAC,OAAIN,EAAYM,GAAI,KAJhC,kCAQA,4BACEH,KAAK,SACLZ,UAAWC,IAAOU,OAClBE,SAAUR,IAAUC,EACpBQ,QAAS,SAAAC,GAAC,OAAIN,EAAYM,EAAG,KAJ/B,0C,iBCHiBC,E,YAgBnB,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KA4BRC,oBAAsB,SAACC,EAAQC,GAC7B,EAAKC,SAAS,SAAAC,GAAS,MAAK,CAC1BjB,MAAOiB,EAAUjB,MAAQe,MA5B3B,EAAKG,MAAQ,CACXC,KAAM,EAAKP,MAAMQ,MACjBpB,MAAO,GALQ,E,iFASE,IACXqB,EAASC,IAAGC,MAAMC,KAAKZ,MAAMa,SAASC,QAAtCL,KACAF,EAASK,KAAKN,MAAdC,KAEFnB,EAAQ2B,KAAKC,IAAI,EAAGD,KAAKE,IAAIR,EAAMF,EAAKW,QAAU,GACxDC,QAAQC,IAAI,gBAAiBX,EAAMrB,GACnCwB,KAAKR,SAAS,CAAEhB,Y,yCAGCiC,EAAWhB,GACVO,KAAKN,MAAflB,QAEMiB,EAAUjB,OACtBwB,KAAKZ,MAAMsB,QAAQC,KAAK,CACtBC,SAAUZ,KAAKZ,MAAMa,SAASW,SAC9BV,OAAO,QAAD,OAAUF,KAAKN,MAAMlB,MAAQ,O,+BAW/B,IAAD,EACiBwB,KAAKN,MAArBC,EADD,EACCA,KAAMnB,EADP,EACOA,MACRqC,EAAMlB,EAAKnB,GAEjB,OACE,yBAAKL,UAAWC,IAAO0C,QACrB,kBAAC,EAAD,CAAa5C,YAAa2C,IAC1B,kBAAC,EAAD,CAASrC,MAAOA,EAAQ,EAAGC,MAAOkB,EAAKW,SACvC,kBAAC,EAAD,CACE1B,YAAaoB,KAAKX,oBAClBb,MAAOA,EAAQ,EACfC,MAAOkB,EAAKW,c,GA9DcS,aAAf5B,EACZ6B,aAAe,CACpBxC,MAAO,G,YCHLyC,E,2MAqBJvB,MAAQ,G,wEAGN,OACE,yBAAKvB,UAAWC,IAAO8C,cACrB,kBAAC,IAAD,CACEC,KAAK,UACLC,UAAW,SAAAhC,GAAK,OAAI,kBAAC,EAAD,eAAQQ,MAAOyB,GAAkBjC,OAEvD,kBAAC,IAAD,CACE+B,KAAK,IACLG,OAAQ,kBACN,kBAAC,IAAD,CACEC,GAAI,CACFX,SAAU,UACVV,OAAQ,qB,GApCNa,aAAZE,EACGD,aAAe,CACpBpB,MAAO,CACL,CACE4B,GAAI,GACJnD,MAAO,GACPC,KAAM,MAwCC2C,QClDfQ,IAASH,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFI,SAASC,eAAe,W","file":"static/js/main.e5b75e18.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3X5PW\",\"button\":\"Controls_button__3ztFt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerApp\":\"App_containerApp__ypz8u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__1egfq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__1_KQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__2Czc-\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ publication }) => (\n  <article className={styles.publication}>\n    <h2>{publication.title}</h2>\n    <p>{publication.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publication: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ index, total }) => (\n  <p className={styles.counter}>\n    {index} / {total}\n  </p>\n);\n\nCounter.propTypes = {\n  index: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ index, total, handleClick }) => (\n  <section className={styles.controls}>\n    <button\n      className={styles.button}\n      type=\"button\"\n      disabled={index === 1}\n      onClick={e => handleClick(e, -1)}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      className={styles.button}\n      disabled={index === total}\n      onClick={e => handleClick(e, 1)}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport qs from 'query-string';\n\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\n\nimport styles from './Reader.module.css';\n\nexport default class Reader extends Component {\n  static defaultProps = {\n    index: 0,\n  };\n\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        text: PropTypes.string.isRequired,\n      }),\n    ).isRequired,\n    index: PropTypes.number.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      pubs: this.props.items,\n      index: 0,\n    };\n  }\n\n  componentDidMount() {\n    const { item } = qs.parse(this.props.location.search);\n    const { pubs } = this.state;\n\n    const index = Math.max(0, Math.min(item, pubs.length) - 1);\n    console.log('item, index :', item, index);\n    this.setState({ index });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { index } = this.state;\n\n    if (index !== prevState.index) {\n      this.props.history.push({\n        pathname: this.props.location.pathname,\n        search: `item=${this.state.index + 1}`,\n      });\n    }\n  }\n\n  handleControlsClick = (target, step) => {\n    this.setState(prevState => ({\n      index: prevState.index + step,\n    }));\n  };\n\n  render() {\n    const { pubs, index } = this.state;\n    const pub = pubs[index];\n\n    return (\n      <div className={styles.reader}>\n        <Publication publication={pub} />\n        <Counter index={index + 1} total={pubs.length} />\n        <Controls\n          handleClick={this.handleControlsClick}\n          index={index + 1}\n          total={pubs.length}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect, Route } from 'react-router-dom';\n\nimport styles from './App.module.css';\nimport Reader from './Reader/Reader';\n\nimport publications from './publications.json';\n\nclass App extends Component {\n  static defaultProps = {\n    items: [\n      {\n        id: '',\n        title: '',\n        text: '',\n      },\n    ],\n  };\n\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        text: PropTypes.string.isRequired,\n      }).isRequired,\n    ).isRequired,\n  };\n\n  state = {};\n\n  render() {\n    return (\n      <div className={styles.containerApp}>\n        <Route\n          path=\"/reader\"\n          component={props => <Reader items={publications} {...props} />}\n        />\n        <Route\n          path=\"/\"\n          render={() => (\n            <Redirect\n              to={{\n                pathname: '/reader',\n                search: '?item=1',\n              }}\n            />\n          )}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './componenets/App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}