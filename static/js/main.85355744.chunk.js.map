{"version":3,"sources":["componenets/App.module.css","componenets/Publication/Publication.module.css","componenets/Counter/Counter.module.css","componenets/Reader/Reader.module.css","componenets/Publication/Publication.js","componenets/Counter/Counter.js","componenets/Controls/Controls.js","componenets/Reader/Reader.js","componenets/App.js","index.js","componenets/Controls/Controls.module.css"],"names":["module","exports","Publication","publication","className","styles","title","text","Counter","index","total","counter","Controls","handleClick","controls","button","type","disabled","onClick","e","Reader","props","handleControlsClick","target","step","setState","prevState","state","pubs","publications","item","qs","parse","this","location","search","Math","max","min","length","prevProps","pathname","history","push","pub","reader","Component","defaultProps","App","containerApp","path","component","render","to","ReactDOM","document","getElementById"],"mappings":"sqgBACAA,EAAOC,QAAU,CAAC,aAAe,4B,mBCAjCD,EAAOC,QAAU,CAAC,YAAc,mC,mBCAhCD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,OAAS,yB,0NCiBZC,EAdK,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAH,OAClB,6BAASC,UAAWC,IAAOF,aACzB,4BAAKA,EAAYG,OACjB,2BAAIH,EAAYI,Q,iBCQLC,EAXC,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAV,OACd,uBAAGN,UAAWC,IAAOM,SAClBF,EADH,MACaC,I,gBCkBAE,EArBE,SAAC,GAAD,IAAGH,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAOG,EAAjB,EAAiBA,YAAjB,OACf,6BAAST,UAAWC,IAAOS,UACzB,4BACEV,UAAWC,IAAOU,OAClBC,KAAK,SACLC,SAAoB,IAAVR,EACVS,QAAS,SAAAC,GAAC,OAAIN,EAAYM,GAAI,KAJhC,kCAQA,4BACEH,KAAK,SACLZ,UAAWC,IAAOU,OAClBE,SAAUR,IAAUC,EACpBQ,QAAS,SAAAC,GAAC,OAAIN,EAAYM,EAAG,KAJ/B,0C,iBCHiBC,E,YACnB,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KA4BRC,oBAAsB,SAACC,EAAQC,GAC7B,EAAKC,SAAS,SAAAC,GAAS,MAAK,CAC1BjB,MAAOiB,EAAUjB,MAAQe,MA5B3B,EAAKG,MAAQ,CACXC,KAAM,EAAKP,MAAMQ,aACjBpB,MAAO,GALQ,E,iFASE,IACXqB,EAASC,IAAGC,MAAMC,KAAKZ,MAAMa,SAASC,QAAtCL,KACAF,EAASK,KAAKN,MAAdC,KAEFnB,EAAQ2B,KAAKC,IAAI,EAAGD,KAAKE,IAAIR,EAAMF,EAAKW,QAAU,GACxDN,KAAKR,SAAS,CAAEhB,Y,yCAGC+B,EAAWd,GAAY,IAChCjB,EAAUwB,KAAKN,MAAflB,MACAgC,EAAaR,KAAKZ,MAAMa,SAAxBO,SAEJhC,IAAUiB,EAAUjB,OACtBwB,KAAKZ,MAAMqB,QAAQC,KAAK,CACtBF,WACAN,OAAO,QAAD,OAAUF,KAAKN,MAAMlB,MAAQ,O,+BAW/B,IAAD,EACiBwB,KAAKN,MAArBC,EADD,EACCA,KAAMnB,EADP,EACOA,MACRmC,EAAMhB,EAAKnB,GAEjB,OACE,yBAAKL,UAAWC,IAAOwC,QACrB,kBAAC,EAAD,CAAa1C,YAAayC,IAC1B,kBAAC,EAAD,CAASnC,MAAOA,EAAQ,EAAGC,MAAOkB,EAAKW,SACvC,kBAAC,EAAD,CACE1B,YAAaoB,KAAKX,oBAClBb,MAAOA,EAAQ,EACfC,MAAOkB,EAAKW,c,GA/CcO,aAiEpC1B,EAAO2B,aAAe,CACpBtC,MAAO,G,YCnEHuC,EAAM,kBACV,yBAAK5C,UAAWC,IAAO4C,cACrB,kBAAC,IAAD,CACEC,KAAK,UACLC,UAAW,SAAA9B,GAAK,OACd,kBAAC,EAAD,CACEQ,aAAcA,EACda,QAASrB,EAAMqB,QACfR,SAAUb,EAAMa,cAItB,kBAAC,IAAD,CACEgB,KAAK,IACLE,OAAQ,kBACN,kBAAC,IAAD,CACEC,GAAI,CACFZ,SAAU,UACVN,OAAQ,kBAoBpBa,EAAID,aAAe,CACjBlB,eACAa,QAAS,GACTR,SAAU,IAGGc,QChDfM,IAASF,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFG,SAASC,eAAe,U,kBCR1BxD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,4B","file":"static/js/main.85355744.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerApp\":\"App_containerApp__ypz8u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__1egfq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__1_KQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__2Czc-\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ publication }) => (\n  <article className={styles.publication}>\n    <h2>{publication.title}</h2>\n    <p>{publication.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publication: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ index, total }) => (\n  <p className={styles.counter}>\n    {index} / {total}\n  </p>\n);\n\nCounter.propTypes = {\n  index: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ index, total, handleClick }) => (\n  <section className={styles.controls}>\n    <button\n      className={styles.button}\n      type=\"button\"\n      disabled={index === 1}\n      onClick={e => handleClick(e, -1)}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      className={styles.button}\n      disabled={index === total}\n      onClick={e => handleClick(e, 1)}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport qs from 'query-string';\n\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\n\nimport styles from './Reader.module.css';\n\nexport default class Reader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      pubs: this.props.publications,\n      index: 0,\n    };\n  }\n\n  componentDidMount() {\n    const { item } = qs.parse(this.props.location.search);\n    const { pubs } = this.state;\n\n    const index = Math.max(0, Math.min(item, pubs.length) - 1);\n    this.setState({ index });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { index } = this.state;\n    const { pathname } = this.props.location;\n\n    if (index !== prevState.index) {\n      this.props.history.push({\n        pathname,\n        search: `item=${this.state.index + 1}`,\n      });\n    }\n  }\n\n  handleControlsClick = (target, step) => {\n    this.setState(prevState => ({\n      index: prevState.index + step,\n    }));\n  };\n\n  render() {\n    const { pubs, index } = this.state;\n    const pub = pubs[index];\n\n    return (\n      <div className={styles.reader}>\n        <Publication publication={pub} />\n        <Counter index={index + 1} total={pubs.length} />\n        <Controls\n          handleClick={this.handleControlsClick}\n          index={index + 1}\n          total={pubs.length}\n        />\n      </div>\n    );\n  }\n}\n\nReader.propTypes = {\n  publications: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  index: PropTypes.number,\n};\n\nReader.defaultProps = {\n  index: 0,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect, Route } from 'react-router-dom';\n\nimport styles from './App.module.css';\nimport Reader from './Reader/Reader';\n\nimport publications from './publications.json';\n\nconst App = () => (\n  <div className={styles.containerApp}>\n    <Route\n      path=\"/reader\"\n      component={props => (\n        <Reader\n          publications={publications}\n          history={props.history}\n          location={props.location}\n        />\n      )}\n    />\n    <Route\n      path=\"/\"\n      render={() => (\n        <Redirect\n          to={{\n            pathname: '/reader',\n            search: '?item=1',\n          }}\n        />\n      )}\n    />\n  </div>\n);\n\nApp.propTypes = {\n  publications: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n    }).isRequired,\n  ),\n  history: PropTypes.object,\n  location: PropTypes.object,\n};\n\nApp.defaultProps = {\n  publications,\n  history: {},\n  location: {},\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './componenets/App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3X5PW\",\"button\":\"Controls_button__3ztFt\"};"],"sourceRoot":""}